(this.webpackJsonpriskgame=this.webpackJsonpriskgame||[]).push([[0],{215:function(e,t,c){},225:function(e,t,c){"use strict";c.r(t);var a=c(0),s=c.n(a),n=c(189),r=c.n(n),l=(c(215),c(106)),o=c(16),i=c(261),d=c(197),j=c(72),u=c(260),h=c(4),x=function(e){var t=Object(o.m)();return Object(h.jsx)("div",{className:"outside-container",children:Object(h.jsx)("div",{className:"outside-header",children:Object(h.jsx)("div",{className:"form-area",children:Object(h.jsxs)("header",{children:[Object(h.jsx)("h1",{children:"RISC GAME"}),Object(h.jsxs)(i.a,{name:"basic",labelCol:{span:8},wrapperCol:{span:40},style:{maxWidth:600},initialValues:{remember:!0},onFinish:function(e){var c={username:e.username,password:e.password};u.a.post("http://localhost:8080/login",c).then((function(c){t("/main",{state:{usrId:c.data.userId,userName:e.username}})})).catch((function(e){alert(e.response.data.error)}))},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",children:[Object(h.jsx)(i.a.Item,{label:"",name:"username",rules:[{required:!0,message:"Please enter your username!"}],children:Object(h.jsx)(d.a,{placeholder:"Username",className:"username"})}),Object(h.jsx)(i.a.Item,{label:"",name:"password",rules:[{required:!0,message:"Please enter your password!"}],children:Object(h.jsx)(d.a.Password,{placeholder:"Password",className:"password"})}),Object(h.jsx)(i.a.Item,{wrapperCol:{offset:4,span:16},children:Object(h.jsx)(j.a,{type:"primary",htmlType:"submit",children:"Log In"})})]}),Object(h.jsxs)("p",{children:["Not a user? ",Object(h.jsx)("span",{onClick:function(){t("/register")},className:"redirect-text",children:"Register"})]})]})})})})},b=function(e){var t=Object(o.m)();return Object(h.jsx)("div",{className:"outside-container",children:Object(h.jsx)("div",{className:"outside-header",children:Object(h.jsx)("div",{className:"form-area",children:Object(h.jsxs)("header",{children:[Object(h.jsx)("h1",{children:"NEW USER"}),Object(h.jsxs)(i.a,{name:"basic",labelCol:{span:8},wrapperCol:{span:40},style:{maxWidth:600},initialValues:{remember:!0},onFinish:function(e){var c={username:e.username,password:e.password};u.a.post("http://localhost:8080/register",c).then((function(c){t("/main",{state:{usrId:c.data.userId,userName:e.username}})})).catch((function(e){alert(e.response.data.error)}))},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",children:[Object(h.jsx)(i.a.Item,{label:"",name:"username",rules:[{required:!0,message:"Please enter your username!"}],children:Object(h.jsx)(d.a,{placeholder:"Username",className:"username"})}),Object(h.jsx)(i.a.Item,{label:"",name:"password",rules:[{required:!0,message:"Please enter your password!"}],children:Object(h.jsx)(d.a.Password,{placeholder:"Password",className:"password"})}),Object(h.jsx)(i.a.Item,{wrapperCol:{offset:4,span:16},children:Object(h.jsx)(j.a,{type:"primary",htmlType:"submit",children:"Create"})})]}),Object(h.jsxs)("p",{children:["Already have account? ",Object(h.jsx)("span",{onClick:function(){t("/")},className:"redirect-text",children:"Log In"})]})]})})})})},m=c(2),O=c(258),y=c(201),p=c(262),v=c(263),f=c(174),N=O.a.Column,g=function(e){var t=Object(a.useState)(1),c=Object(m.a)(t,2),n=c[0],r=c[1],l=Object(a.useState)("Apple"),i=Object(m.a)(l,2),d=i[0],x=i[1],b=Object(a.useState)([]),g=Object(m.a)(b,2),A=g[0],I=g[1],G=Object(a.useState)(1),w=Object(m.a)(G,2),C=w[0],S=w[1],k=Object(a.useState)(2),E=Object(m.a)(k,2),Q=E[0],D=E[1],L=Object(a.useState)(!1),R=Object(m.a)(L,2),B=R[0],T=R[1],U=Object(a.useState)(!1),J=Object(m.a)(U,2),M=J[0],P=J[1],F=Object(a.useState)(1),H=Object(m.a)(F,2),V=H[0],W=H[1],Y=Object(a.useState)(""),K=Object(m.a)(Y,2),z=K[0],X=K[1],Z=Object(o.m)(),q=Object(o.k)();s.a.useEffect((function(){r(q.state.usrId),x(q.state.userName);var e="http://localhost:8080/games/"+q.state.usrId;u.a.get(e).then((function(e){console.log(e);for(var t=[],c=0;c<e.data.games.length;c++){var a={key:(c+1).toString(),gameId:e.data.games[c].gameID,playerName:e.data.games[c].color,playerId:e.data.games[c].playerID};t.push(a)}I(t)})).catch((function(){alert("error")}))}),[q.state]);return Object(h.jsx)("div",{className:"outside-container",children:Object(h.jsx)("div",{className:"outside-header",children:Object(h.jsxs)("div",{className:"main-page",children:[Object(h.jsxs)("div",{className:"main-left",children:[Object(h.jsxs)("div",{className:"welcome-info",children:[Object(h.jsxs)("h1",{children:["Hi, ",d]}),Object(h.jsx)(j.a,{type:"primary",onClick:function(){Z("/")},children:"Log Out"})]}),Object(h.jsxs)("div",{className:"game-involve-section",children:[Object(h.jsx)("div",{className:"main-title",children:Object(h.jsx)("h3",{children:"Game You are Involved"})}),Object(h.jsx)("div",{className:"game-info",children:Object(h.jsxs)(O.a,{dataSource:A,children:[Object(h.jsx)(N,{title:"Game ID",dataIndex:"gameId"},"gameId"),Object(h.jsx)(N,{title:"Player Name",dataIndex:"playerName"},"playerName"),Object(h.jsx)(N,{title:"Action",render:function(e){return Object(h.jsx)(y.b,{size:"middle",children:Object(h.jsx)(j.a,{onClick:function(){return function(e){console.log(e);var t="http://localhost:8080/resumeGame/"+e.gameId+"/"+e.playerId;u.a.post(t).then((function(t){console.log("suuccess:",t),Z("/game",{state:{usrId:n,userName:d,playerId:e.playerId,color:e.playerName}})})).catch((function(e){alert("error: ",e)}))}(e)},children:"Join"})})}},"action")]})})]})]}),Object(h.jsxs)("div",{className:"main-right",children:[Object(h.jsxs)("div",{className:"join-game-section",children:[Object(h.jsx)("div",{className:"main-title",children:Object(h.jsx)("h3",{children:"Join a Game"})}),Object(h.jsxs)("div",{className:"prompt-input",children:[Object(h.jsx)("label",{children:"Game ID: "}),Object(h.jsx)(p.a,{min:1,value:C,onChange:function(e){S(Math.floor(e))}})]}),Object(h.jsx)(j.a,{type:"primary",onClick:function(e){var t="http://localhost:8080/joinGame/"+q.state.usrId+"/"+C;u.a.post(t).then((function(e){if(console.log(e.data),-1===e.data.playerID)alert("Game Not Available. Please contact your friend");else{T(!0);var t="http://localhost:8080/isGameReady/"+C,c=setInterval((function(){u.a.get(t).then((function(t){t.data&&(clearInterval(c),Z("/placement",{state:{usrId:n,playerId:e.data.playerID,userName:d,color:e.data.color,gameId:C}}))})).catch((function(){alert("error")}))}),5e3)}})).catch((function(){alert("error")}))},children:"Join"})]}),Object(h.jsxs)("div",{className:"new-game-section",children:[Object(h.jsx)("div",{className:"main-title",children:Object(h.jsx)("h3",{children:"Start a New Game"})}),Object(h.jsxs)("div",{className:"prompt-input",children:[Object(h.jsx)("label",{children:"PlayerNum: "}),Object(h.jsx)(p.a,{min:1,max:4,value:Q,onChange:function(e){console.log(e),D(Math.floor(e))}})]}),Object(h.jsx)(j.a,{type:"primary",onClick:function(e){var t="http://localhost:8080/createGame/"+n+"/"+Q;u.a.post(t).then((function(e){W(e.data.gameID),X(e.data.color),P(!0);var t="http://localhost:8080/isGameReady/"+e.data.gameID,c=setInterval((function(){u.a.get(t).then((function(t){console.log(t.data),t.data&&(clearInterval(c),Z("/placement",{state:{usrId:n,playerId:e.data.playerID,userName:d,color:e.data.color,gameId:e.data.gameID}}))})).catch((function(){alert("error")}))}),5e3)})).catch((function(){alert("error")}))},children:"Create Game"})]}),Object(h.jsx)(v.a,{title:"Waiting for Other Players to Join",open:B,footer:null,closable:!1,children:Object(h.jsxs)("div",{className:"tips-display-style",children:[Object(h.jsxs)("p",{children:["You successfully joined game ",C]}),Object(h.jsx)("p",{children:"Please wait for others to join"}),Object(h.jsx)(f.a,{})]})}),Object(h.jsx)(v.a,{title:"Waiting for Other Players to Join",open:M,footer:null,closable:!1,children:Object(h.jsxs)("div",{className:"tips-display-style",children:[Object(h.jsx)("p",{children:"You are the owner of the game"}),Object(h.jsxs)("p",{children:["Your game ID is ",V]}),Object(h.jsxs)("p",{children:["Your color is ",z]}),Object(h.jsx)("p",{children:"Please wait for others to join"}),Object(h.jsx)(f.a,{})]})})]})]})})})},A=c(7),I=c(264),G=c(119),w=c(265),C=c(134),S=c(1),k=c(3),E=c(10),Q=c(259),D=c(85),L=c(125),R=c(266),B=["className"],T=Object(L.a)((function(e){var t=e.className,c=Object(E.a)(e,B);return Object(h.jsx)(Q.a,Object(k.a)(Object(k.a)({},c),{},{classes:{popper:t}}))}))((function(e){var t=e.theme;return Object(S.a)({},"& .".concat(D.a.tooltip),{backgroundColor:"#f5f5f9",color:"rgba(0, 0, 0, 0.87)",maxWidth:220,fontSize:t.typography.pxToRem(12),border:"1px solid #dadde9"})})),U=function(e){var t=Object(a.useState)([]),c=Object(m.a)(t,2),n=c[0],r=c[1],l=Object(a.useState)([]),o=Object(m.a)(l,2),i=o[0],d=o[1];return s.a.useEffect((function(){r(e.territories)}),[e.territories]),s.a.useEffect((function(){d(e.lines)}),[e.lines]),Object(h.jsxs)("svg",{className:"game-board-background",children:[i.map((function(e,t){return Object(h.jsxs)("svg",{children:[Object(h.jsx)("line",{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,stroke:"black",strokeWidth:2},t),Object(h.jsx)("text",{x:(e.x1+e.x2)/2,y:(e.y1+e.y2)/2,strokeWidth:"1px",style:{fontSize:15},children:e.distance})]},t)})),n.map((function(e,t){return Object(h.jsx)(T,{arrow:!0,title:Object(h.jsxs)(s.a.Fragment,{children:[Object(h.jsx)(R.a,{color:"inherit",children:e.territoryName}),Object(h.jsxs)("p",{children:[" Food Generation Rate: ",e.foodGene," "]}),Object(h.jsxs)("p",{children:[" Tech Generation Rate: ",e.techGene," "]}),Object(h.jsx)("p",{children:" Unit:"}),Object(h.jsx)("p",{children:" Level\xa0\xa0\xa0Num "}),e.units.map((function(e,t){return Object(h.jsxs)("div",{children:["\xa0",e.level,"\xa0\xa0\xa0-----\xa0\xa0\xa0",e.num]},t)}))]}),children:Object(h.jsxs)("svg",{children:[Object(h.jsx)("circle",{cx:e.cx,cy:e.cy,r:e.r,fill:e.color,stroke:"black",strokeWidth:2}),Object(h.jsx)("text",{x:e.cx,y:e.cy,strokeWidth:"1px",alignmentBaseline:"middle",textAnchor:"middle",style:{fontSize:11},children:e.territoryName})]})},t)}))]})},J=s.a.createContext({name:"Default"}),M=[{x1:74,y1:120,x2:145,y2:64,distance:1},{x1:74,y1:120,x2:110,y2:300,distance:3},{x1:74,y1:120,x2:160,y2:200,distance:4},{x1:160,y1:64,x2:430,y2:44,distance:8},{x1:160,y1:64,x2:260,y2:170,distance:3},{x1:430,y1:44,x2:580,y2:68,distance:4},{x1:430,y1:44,x2:380,y2:150,distance:4},{x1:580,y1:68,x2:500,y2:260,distance:6},{x1:380,y1:150,x2:500,y2:260,distance:3},{x1:380,y1:150,x2:260,y2:170,distance:2},{x1:250,y1:170,x2:160,y2:200,distance:3},{x1:160,y1:200,x2:110,y2:320,distance:3},{x1:110,y1:300,x2:74,y2:415,distance:2},{x1:74,y1:400,x2:54,y2:550,distance:7},{x1:40,y1:540,x2:150,y2:495,distance:1},{x1:150,y1:495,x2:260,y2:505,distance:6},{x1:150,y1:495,x2:320,y2:608,distance:6},{x1:320,y1:608,x2:590,y2:600,distance:3},{x1:260,y1:505,x2:320,y2:608,distance:3},{x1:320,y1:608,x2:465,y2:540,distance:7},{x1:465,y1:560,x2:550,y2:490,distance:1},{x1:550,y1:490,x2:440,y2:440,distance:2},{x1:260,y1:170,x2:320,y2:260,distance:3},{x1:160,y1:200,x2:220,y2:300,distance:2},{x1:220,y1:300,x2:74,y2:400,distance:5},{x1:210,y1:300,x2:320,y2:260,distance:3},{x1:320,y1:260,x2:445,y2:350,distance:5},{x1:500,y1:260,x2:445,y2:370,distance:1},{x1:445,y1:350,x2:550,y2:380,distance:2},{x1:550,y1:380,x2:440,y2:440,distance:3},{x1:440,y1:440,x2:300,y2:400,distance:5},{x1:300,y1:400,x2:320,y2:260,distance:4},{x1:300,y1:400,x2:150,y2:495,distance:8},{x1:550,y1:380,x2:660,y2:475,distance:6},{x1:660,y1:510,x2:465,y2:570,distance:2},{x1:660,y1:480,x2:550,y2:490,distance:1},{x1:680,y1:480,x2:590,y2:600,distance:3},{x1:430,y1:550,x2:590,y2:600,distance:4}],P=[{value:"Michigan"},{value:"Michigan State"},{value:"Syracuse"},{value:"UConn"},{value:"Indiana"},{value:"Ohio State"},{value:"Penn State"},{value:"Northwestern"},{value:"Kentucky"},{value:"WVU"},{value:"UPenn"},{value:"Illinois"},{value:"Tennessee"},{value:"Villanova"},{value:"Maryland"},{value:"Alabama"},{value:"Auburn"},{value:"Florida"},{value:"UVA"},{value:"Duke"},{value:"NC State"},{value:"Georgia"},{value:"South Carolina"},{value:"UNC"}],F=[{value:"0"},{value:"1"},{value:"2"},{value:"3"},{value:"4"},{value:"5"}],H=[20,40,808,160,320],V=[3,8,19,25,35,50],W=function(e){var t=Object(a.useState)(1),c=Object(m.a)(t,2),n=c[0],r=c[1],l=Object(a.useState)(1),i=Object(m.a)(l,2),d=i[0],x=i[1],b=Object(a.useState)("Default"),O=Object(m.a)(b,2),y=O[0],N=O[1],g=Object(a.useState)("BLUE"),S=Object(m.a)(g,2),k=S[0],E=S[1],Q=Object(a.useState)(1),D=Object(m.a)(Q,2),L=D[0],R=D[1],B=Object(a.useState)(4),T=Object(m.a)(B,2),W=T[0],Y=T[1],K=Object(a.useState)(2),z=Object(m.a)(K,2),X=z[0],Z=z[1],q=Object(a.useState)(2),$=Object(m.a)(q,2),_=$[0],ee=$[1],te=Object(a.useState)(250),ce=Object(m.a)(te,2),ae=ce[0],se=ce[1],ne=Object(a.useState)(300),re=Object(m.a)(ne,2),le=re[0],oe=re[1],ie=Object(a.useState)(35),de=Object(m.a)(ie,2),je=de[0],ue=de[1],he=Object(a.useState)(59),xe=Object(m.a)(he,2),be=xe[0],me=xe[1],Oe=Object(a.useState)([]),ye=Object(m.a)(Oe,2),pe=ye[0],ve=ye[1],fe=Object(a.useState)([]),Ne=Object(m.a)(fe,2),ge=Ne[0],Ae=Ne[1],Ie=Object(a.useState)([{territoryName:"Michigan",cx:74,cy:120,r:40,color:"red",foodGene:10,techGene:0,units:[]},{territoryName:"Michigan State",cx:160,cy:64,r:40,color:"green",foodGene:0,techGene:10,units:[]},{territoryName:"Syracuse",cx:430,cy:44,r:40,color:"green",foodGene:10,techGene:0,units:[]},{territoryName:"UConn",cx:580,cy:68,r:40,color:"yellow",foodGene:0,techGene:10,units:[]},{territoryName:"Penn State",cx:380,cy:150,r:40,color:"yellow",foodGene:0,techGene:10,units:[]},{territoryName:"UPenn",cx:500,cy:260,r:40,color:"yellow",foodGene:10,techGene:0,units:[]},{territoryName:"Ohio State",cx:260,cy:170,r:40,color:"yellow",foodGene:0,techGene:10,units:[]},{territoryName:"Indiana",cx:160,cy:200,r:40,color:"yellow",foodGene:10,techGene:0,units:[]},{territoryName:"Northwestern",cx:110,cy:300,r:40,color:"yellow",foodGene:10,techGene:0,units:[]},{territoryName:"Illinois",cx:74,cy:400,r:40,color:"yellow",foodGene:0,techGene:10,units:[]},{territoryName:"Kentucky",cx:220,cy:300,r:40,color:"yellow",foodGene:10,techGene:0,units:[]},{territoryName:"WVU",cx:320,cy:260,r:40,color:"yellow",foodGene:0,techGene:10,units:[]},{territoryName:"Villanova",cx:445,cy:350,r:40,color:"yellow",foodGene:0,techGene:10,units:[]},{territoryName:"Maryland",cx:550,cy:380,r:40,color:"yellow",foodGene:10,techGene:0,units:[]},{territoryName:"Alabama",cx:54,cy:540,r:40,color:"yellow",foodGene:10,techGene:0,units:[]},{territoryName:"Auburn",cx:150,cy:495,r:40,color:"yellow",foodGene:0,techGene:10,units:[]},{territoryName:"Tennessee",cx:300,cy:400,r:40,color:"yellow",foodGene:10,techGene:0,units:[]},{territoryName:"Florida",cx:260,cy:505,r:40,color:"yellow",foodGene:10,techGene:0,units:[]},{territoryName:"Georgia",cx:320,cy:608,r:40,color:"yellow",foodGene:0,techGene:10,units:[]},{territoryName:"UVA",cx:440,cy:440,r:40,color:"yellow",foodGene:0,techGene:10,units:[]},{territoryName:"Duke",cx:550,cy:490,r:40,color:"yellow",foodGene:10,techGene:0,units:[]},{territoryName:"NC State",cx:660,cy:475,r:40,color:"yellow",foodGene:0,techGene:10,units:[]},{territoryName:"UNC",cx:465,cy:540,r:40,color:"yellow",foodGene:10,techGene:0,units:[]},{territoryName:"South Carolina",cx:590,cy:600,r:40,color:"yellow",foodGene:0,techGene:10,units:[]}]),Ge=Object(m.a)(Ie,2),we=Ge[0],Ce=Ge[1],Se=s.a.useRef(we),ke=Object(a.useState)([]),Ee=Object(m.a)(ke,2),Qe=Ee[0],De=Ee[1],Le=Object(a.useState)(!1),Re=Object(m.a)(Le,2),Be=Re[0],Te=Re[1],Ue=Object(a.useState)([0,0,0,0,0,0,0]),Je=Object(m.a)(Ue,2),Me=Je[0],Pe=Je[1],Fe=Object(a.useState)(""),He=Object(m.a)(Fe,2),Ve=He[0],We=He[1],Ye=Object(a.useState)(""),Ke=Object(m.a)(Ye,2),ze=Ke[0],Xe=Ke[1],Ze=Object(a.useState)(!1),qe=Object(m.a)(Ze,2),$e=qe[0],_e=qe[1],et=Object(a.useState)(""),tt=Object(m.a)(et,2),ct=tt[0],at=tt[1],st=Object(a.useState)(""),nt=Object(m.a)(st,2),rt=nt[0],lt=nt[1],ot=Object(a.useState)(!1),it=Object(m.a)(ot,2),dt=it[0],jt=it[1],ut=Object(a.useState)(!1),ht=Object(m.a)(ut,2),xt=ht[0],bt=ht[1],mt=Object(a.useState)(!1),Ot=Object(m.a)(mt,2),yt=Ot[0],pt=Ot[1],vt=Object(a.useState)(!1),ft=Object(m.a)(vt,2),Nt=ft[0],gt=ft[1],At=Object(a.useState)(""),It=Object(m.a)(At,2),Gt=It[0],wt=It[1],Ct=Object(a.useState)(1),St=Object(m.a)(Ct,2),kt=St[0],Et=St[1],Qt=Object(a.useState)(!1),Dt=Object(m.a)(Qt,2),Lt=Dt[0],Rt=Dt[1],Bt=Object(a.useState)([{srcLevel:0,desLevel:0,num:0}]),Tt=Object(m.a)(Bt,2),Ut=Tt[0],Jt=Tt[1],Mt=Object(a.useState)(!1),Pt=Object(m.a)(Mt,2),Ft=Pt[0],Ht=Pt[1],Vt=Object(a.useState)(!1),Wt=Object(m.a)(Vt,2),Yt=Wt[0],Kt=Wt[1],zt=Object(a.useState)(void 0),Xt=Object(m.a)(zt,2),Zt=Xt[0],qt=Xt[1],$t=Object(a.useState)(!1),_t=Object(m.a)($t,2),ec=_t[0],tc=_t[1],cc=Object(a.useState)(0),ac=Object(m.a)(cc,2),sc=ac[0],nc=ac[1],rc=I.a.useNotification(),lc=Object(m.a)(rc,2),oc=lc[0],ic=lc[1],dc=Object(o.k)(),jc=Object(o.m)(),uc=Object(a.useMemo)((function(){return{name:"Risk Game"}}),[]),hc=function(e,t,c){oc.info({message:"Risk Game Notification",description:Object(h.jsx)(J.Consumer,{children:function(){return"Hello player ".concat(t,", it's round ").concat(c," now.")}}),placement:e})};s.a.useEffect((function(){console.log("component did mount"),x(dc.state.usrId),r(dc.state.playerId),N(dc.state.userName),E(dc.state.color);var e="http://localhost:8080/allInfo/"+dc.state.playerId;u.a.get(e).then((function(e){console.log("mapinfo:",e);var t=e.data.resTurnInfo;if(null!==t.winnerName)return qt(t.winnerName),void Kt(!0);console.log("winner: ",t.winnerName),E(t.playerName),R(t.gameID),Y(t.playNum),Z(t.turnNO),hc("topLeft",t.playerName,t.turnNO),ee(t.techLevel),se(t.totalFood),oe(t.totalTech),ue(t.genFood),me(t.genTech);for(var c=[],a=0;a<t.territoryNames.length;a++)c.push({value:t.territoryNames[a]});De(c),We(0===c.length?"":c[0].value),Xe(0===c.length?"":c[0].value),at(0===c.length?"":c[0].value),lt(0===c.length?"":c[0].value),wt(0===c.length?"":c[0].value);for(var s=e.data.resGameMap.territories,n=Object(A.a)(Se.current),r=0;r<Se.current.length;r++)n[r].color=s[n[r].territoryName].color.toLowerCase(),n[r].units=s[n[r].territoryName].numUnit;Ce(n),console.log("after set, new territries:",n);for(var l=e.data.resLastRoundInfo.lastRoundInfo,o=[],i=0;i<l.length;i++){var d={attackedTerritory:l[i].attackedTerritory,owner:l[i].owner,winner:l[i].winner,attackedIt:l[i].attackedIt};o.push(d)}if(ve(o),0===t.territoryNames.length){tc(!0);var j="http://localhost:8080/getTurn/"+t.gameID,h=setInterval((function(){u.a.get(j).then((function(e){console.log(e),e.data.turn!==t.turnNO&&(clearInterval(h),window.location.reload(!0))})).catch((function(e){alert(e)}))}),5e3)}})).catch((function(e){console.log(e),alert("error in init")}))}),[dc.state,hc]);var xc=function(e,t){for(var c=0,a=e;a<t;a++)c+=V[a];return c};s.a.useEffect((function(){for(var e=0,t=0;t<Ut.length;t++)Ut[t].srcLevel<Ut[t].desLevel&&(e+=xc(Ut[t].srcLevel,Ut[t].desLevel)*Ut[t].num);nc(e)}),[Ut]);var bc=function(){jc("/main/",{state:{usrId:d,userName:y}})},mc=function(e){return function(t){var c=Object(A.a)(Me);c[e]=t,Pe(c)}},Oc=function(e){return function(t){var c=Object(A.a)(Ut),a=parseInt(t);c[e].srcLevel=a,Jt(c)}},yc=function(e){return function(t){var c=Object(A.a)(Ut),a=parseInt(t);c[e].desLevel=a,Jt(c)}},pc=function(e){return function(t){null===t&&(t=0);var c=Object(A.a)(Ut);c[e].num=t,Jt(c)}};return Object(h.jsxs)(J.Provider,{value:uc,children:[ic,Object(h.jsx)("div",{className:"outside-container",children:Object(h.jsxs)("div",{className:"outside-header",children:[void 0===Zt&&Object(h.jsxs)("div",{className:"game-container",children:[Object(h.jsxs)("div",{className:"game-left",children:[Object(h.jsxs)("div",{className:"game-title-section",children:[Object(h.jsxs)("div",{className:"game-title-left",children:[Object(h.jsx)("div",{className:"border-purple",children:Object(h.jsx)("h1",{className:"game-title-h1",children:"RISC GAME"})}),Object(h.jsx)("div",{className:"border-purple",children:Object(h.jsxs)("h1",{className:"game-title-h1",children:["Player: ",k]})})]}),Object(h.jsxs)("div",{className:"game-title-right border-purple",children:[Object(h.jsx)("div",{className:"game-id-section",children:Object(h.jsxs)("h5",{children:["Game ID: ",L]})}),Object(h.jsxs)("div",{className:"player-display-section",children:[Object(h.jsx)("div",{className:"player-display-left",children:Object(h.jsx)("h5",{children:"Players"})}),Object(h.jsxs)("div",{className:"player-display-right",children:[Object(h.jsx)("h5",{className:"each-player-info",children:"Red"}),Object(h.jsx)("h5",{className:"each-player-info",children:"Blue"}),W>2&&Object(h.jsx)("h5",{className:"each-player-info",children:"Green"}),W>3&&Object(h.jsx)("h5",{className:"each-player-info",children:"Yellow"})]})]}),Object(h.jsx)("div",{className:"round-info",children:Object(h.jsxs)("h5",{children:["Round: ",X]})})]}),Object(h.jsxs)("div",{className:"control-button-section",children:[Object(h.jsx)(j.a,{className:"control-button",type:"primary",onClick:bc,children:"SWITCH GAME"}),Object(h.jsx)(j.a,{className:"control-button",type:"primary",onClick:function(){jc("/")},children:"LOG OUT"})]})]}),Object(h.jsx)("div",{className:"game-board-section",children:Object(h.jsx)(U,{territories:we,lines:M})})]}),Object(h.jsxs)("div",{className:"game-right",children:[Object(h.jsxs)("div",{className:"resource-tech-info border-purple",children:[Object(h.jsxs)("div",{className:"tech-info-detail",children:[Object(h.jsx)(G.a,{title:"Tech Level decides the maxiumum level of your army",children:Object(h.jsx)("h5",{className:"resource-content",children:"Tech Level"})}),Object(h.jsx)("h6",{className:"resource-content",children:_})]}),Object(h.jsxs)("div",{className:"resource-info",children:[Object(h.jsxs)("div",{className:"resource-info-detail",children:[Object(h.jsx)("h5",{className:"resource-content",children:"Total Resource"}),Object(h.jsx)(G.a,{title:"It costs food resrouce to send army when moving or attacking",children:Object(h.jsxs)("h6",{className:"resource-content",children:["Food: ",ae]})}),Object(h.jsx)(G.a,{title:"It costs technology resrouce to upgrade your army or tech level",children:Object(h.jsxs)("h6",{className:"resource-content",children:["Technology: ",le]})})]}),Object(h.jsxs)("div",{className:"resource-info-detail",children:[Object(h.jsx)(G.a,{title:"Total generation of food or technology per round with the territories you have for now",children:Object(h.jsx)("h5",{className:"resource-content",children:"Generation Rate"})}),Object(h.jsxs)("h6",{className:"resource-content",children:["Food: ",je," / Round"]}),Object(h.jsxs)("h6",{className:"resource-content",children:["Technology: ",be," / Round"]})]})]})]}),Object(h.jsxs)("div",{className:"last-round-info border-purple",children:[Object(h.jsx)("h5",{children:"What Happened in Last Round"}),Object(h.jsx)("div",{className:"last-round-list",children:Object(h.jsx)(w.b,{style:{width:"480px",marginTop:"10px",textAlign:"left"},size:"small",dataSource:pe,renderItem:function(e,t){return Object(h.jsx)(w.b.Item,{children:Object(h.jsxs)("div",{className:"last-round-list-item",children:[Object(h.jsxs)("div",{className:"last-round-list-title",children:[Object(h.jsxs)("h5",{children:[t+1,". Territory ",e.attackedTerritory,", originally owned by ",e.owner," was attacked"]}),e.attackedIt.map((function(e,t){return Object(h.jsxs)("div",{className:"last-round-each-attacker",children:["Attacker ",e.name," attacked from ",e.attackTerr.map((function(e,t){return e+" "}))]},t)})),Object(h.jsxs)("h4",{children:["The winner is ",e.winner]})]}),Object(h.jsx)("div",{className:"last-round-list-detail"})]})})}})})]}),Object(h.jsx)(v.a,{title:"Are you sure you want to delete this order?",open:Lt,onOk:function(){"Research"===ge[kt].type&&bt(!1);var e=Object(A.a)(ge);e.splice(kt,1),Ae(e),Rt(!1)},onCancel:function(){Rt(!1)}}),!ec&&Object(h.jsxs)("div",{className:"this-round-order border-purple",children:[Object(h.jsx)("h5",{children:"Your Order in This Round"}),Object(h.jsx)("div",{className:"this-round-list",children:Object(h.jsx)(w.b,{style:{width:"480px",marginTop:"10px",textAlign:"left"},size:"small",dataSource:ge,renderItem:function(e,t){return Object(h.jsx)(w.b.Item,{actions:[Object(h.jsx)("span",{onClick:function(){return function(e){console.log(e),Et(e),Rt(!0)}(t)},children:Object(h.jsx)("img",{src:"data:image/png;base64,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",alt:"close",width:"17px",height:"17px"})},"list-loadmore-edit")],children:Object(h.jsx)("div",{className:"last-round-list-item",children:Object(h.jsxs)("div",{className:"last-round-list-title",children:[("Move"===e.type||"Attack"===e.type)&&Object(h.jsxs)("div",{children:[Object(h.jsxs)("h5",{children:[t+1,". ",e.type," from ",e.src," to ",e.des," with"]}),e.unit.map((function(e,t){return Object(h.jsxs)("div",{className:"last-round-each-attacker",children:[e.num," units in level ",e.level]},t)}))]}),"Research"===e.type&&Object(h.jsxs)("h5",{children:[t+1,". Do research: tech level upgrade from level ",_," to ",_+1]}),"Upgrade"===e.type&&Object(h.jsxs)("div",{children:[Object(h.jsxs)("h5",{children:[t+1,". ",e.type," in ",e.src]}),e.unit.map((function(e,t){return Object(h.jsxs)("div",{className:"last-round-each-attacker",children:[e.num," units from level ",e.srcLevel," to level ",e.desLevel]},t)}))]})]})})})}})})]}),!ec&&Object(h.jsxs)("div",{className:"order-button-section",children:[Object(h.jsx)(j.a,{className:"order-button",type:"primary",onClick:function(){Pe([0,0,0,0,0,0,0]),Te(!0)},children:"Move"}),Object(h.jsx)(j.a,{className:"order-button",type:"primary",onClick:function(){Pe([0,0,0,0,0,0,0]),_e(!0)},children:"Attack"}),Object(h.jsx)(j.a,{className:"order-button",type:"primary",onClick:function(){_<6?jt(!0):pt(!0)},disabled:xt,children:"Research"}),Object(h.jsx)(j.a,{className:"order-button",type:"primary",onClick:function(){Pe([0,0,0,0,0,0,0]),nc(0),gt(!0)},children:"Upgrade"}),Object(h.jsx)(j.a,{className:"order-button",type:"primary",onClick:function(){for(var e={playerID:n,turnNum:X,move:[],attack:[],research:!1,techLevel:_,upgrade:[]},t=0;t<ge.length;t++)switch(ge[t].type){case"Move":var c={src:ge[t].src,des:ge[t].des,units:Object(A.a)(ge[t].unit)};e.move.push(c);break;case"Attack":var a={src:ge[t].src,des:ge[t].des,units:Object(A.a)(ge[t].unit)};e.attack.push(a);break;case"Research":e.research=!0;break;case"Upgrade":console.log("upgrade",ge[t]);for(var s=0;s<ge[t].unit.length;s++){var r={num:ge[t].unit[s].num,before:ge[t].unit[s].srcLevel,after:ge[t].unit[s].desLevel,terrName:ge[t].src};e.upgrade.push(r)}}console.log("content to send: ",e),u.a.post("http://localhost:8080/done",e).then((function(e){if(console.log("done res:",e),null===e.data.result){Ht(!0);var t="http://localhost:8080/getTurn/"+L,c=setInterval((function(){u.a.get(t).then((function(e){console.log(e),e.data.turn!==X&&(Ht(!1),clearInterval(c),window.location.reload(!0))})).catch((function(e){alert(e)}))}),5e3)}else alert(e.data.result)})).catch((function(e){alert(e.data.result)}))},children:"Done"})]}),ec&&Object(h.jsxs)("div",{className:"lost-tip-display",children:[Object(h.jsx)("p",{children:"You have lost. Please wait for other players to finish their orders"}),Object(h.jsx)(f.a,{})]}),Object(h.jsx)(v.a,{title:"Move Order",open:Be,onOk:function(){for(var e=Object(A.a)(ge),t={type:"Move",src:Ve,des:ze,unit:[]},c=0,a=0;a<7;a++)if(0!==Me[a]){c++;var s={level:a,num:Me[a]};t.unit.push(s)}c>0&&(e.push(t),Ae(e)),Te(!1)},onCancel:function(){Te(!1)},children:Object(h.jsxs)("div",{className:"order-outside-container",children:[Object(h.jsx)("p",{children:"A move costs food resources, the formula for the cost is Number of Units X Distance"}),Object(h.jsxs)("div",{className:"order-container",children:[Object(h.jsxs)("div",{className:"option-section",children:[Object(h.jsx)("p",{children:"From"}),Object(h.jsx)(C.a,{value:Ve,style:{width:150},onChange:function(e){console.log(e),We(e)},options:Qe})]}),Object(h.jsxs)("div",{className:"option-section",children:[Object(h.jsx)("p",{children:"To"}),Object(h.jsx)(C.a,{value:ze,style:{width:150},onChange:function(e){Xe(e)},options:Qe})]}),Object(h.jsxs)("div",{className:"option-section",children:[Object(h.jsx)("p",{children:"Units"}),Object(h.jsxs)("div",{className:"level-section",children:[Object(h.jsx)("p",{className:"level-label",children:"Level 0"}),Object(h.jsx)(p.a,{min:0,defaultValue:0,value:Me[0],onChange:mc(0)})]}),Object(h.jsxs)("div",{className:"level-section",children:[Object(h.jsx)("p",{className:"level-label",children:"Level 1"}),Object(h.jsx)(p.a,{min:0,defaultValue:0,value:Me[1],onChange:mc(1)})]}),Object(h.jsxs)("div",{className:"level-section",children:[Object(h.jsx)("p",{className:"level-label",children:"Level 2"}),Object(h.jsx)(p.a,{min:0,defaultValue:0,value:Me[2],onChange:mc(2)})]}),Object(h.jsxs)("div",{className:"level-section",children:[Object(h.jsx)("p",{className:"level-label",children:"Level 3"}),Object(h.jsx)(p.a,{min:0,defaultValue:0,value:Me[3],onChange:mc(3)})]}),Object(h.jsxs)("div",{className:"level-section",children:[Object(h.jsx)("p",{className:"level-label",children:"Level 4"}),Object(h.jsx)(p.a,{min:0,defaultValue:0,value:Me[4],onChange:mc(4)})]}),Object(h.jsxs)("div",{className:"level-section",children:[Object(h.jsx)("p",{className:"level-label",children:"Level 5"}),Object(h.jsx)(p.a,{min:0,defaultValue:0,value:Me[5],onChange:mc(5)})]}),Object(h.jsxs)("div",{className:"level-section",children:[Object(h.jsx)("p",{className:"level-label",children:"Level 6"}),Object(h.jsx)(p.a,{min:0,defaultValue:0,value:Me[6],onChange:mc(6)})]})]})]})]})}),Object(h.jsx)(v.a,{title:"Attack Order",open:$e,onOk:function(){for(var e=Object(A.a)(ge),t={type:"Attack",src:ct,des:rt,unit:[]},c=0,a=0;a<7;a++)if(0!==Me[a]){c++;var s={level:a,num:Me[a]};t.unit.push(s)}c>0&&(e.push(t),Ae(e)),_e(!1)},onCancel:function(){_e(!1)},children:Object(h.jsxs)("div",{className:"order-outside-container",children:[Object(h.jsx)("p",{children:"An attack costs food resources, the formula for the cost is Number of Units X Distance X 2"}),Object(h.jsxs)("div",{className:"order-container",children:[Object(h.jsxs)("div",{className:"option-section",children:[Object(h.jsx)("p",{children:"From"}),Object(h.jsx)(C.a,{value:ct,style:{width:150},onChange:function(e){at(e)},options:Qe})]}),Object(h.jsxs)("div",{className:"option-section",children:[Object(h.jsx)("p",{children:"To"}),Object(h.jsx)(C.a,{defaultValue:P[0].value,style:{width:150},onChange:function(e){lt(e)},options:P})]}),Object(h.jsxs)("div",{className:"option-section",children:[Object(h.jsx)("p",{children:"Units"}),Object(h.jsxs)("div",{className:"level-section",children:[Object(h.jsx)("p",{className:"level-label",children:"Level 0"}),Object(h.jsx)(p.a,{min:0,defaultValue:0,value:Me[0],onChange:mc(0)})]}),Object(h.jsxs)("div",{className:"level-section",children:[Object(h.jsx)("p",{className:"level-label",children:"Level 1"}),Object(h.jsx)(p.a,{min:0,defaultValue:0,value:Me[1],onChange:mc(1)})]}),Object(h.jsxs)("div",{className:"level-section",children:[Object(h.jsx)("p",{className:"level-label",children:"Level 2"}),Object(h.jsx)(p.a,{min:0,defaultValue:0,value:Me[2],onChange:mc(2)})]}),Object(h.jsxs)("div",{className:"level-section",children:[Object(h.jsx)("p",{className:"level-label",children:"Level 3"}),Object(h.jsx)(p.a,{min:0,defaultValue:0,value:Me[3],onChange:mc(3)})]}),Object(h.jsxs)("div",{className:"level-section",children:[Object(h.jsx)("p",{className:"level-label",children:"Level 4"}),Object(h.jsx)(p.a,{min:0,defaultValue:0,value:Me[4],onChange:mc(4)})]}),Object(h.jsxs)("div",{className:"level-section",children:[Object(h.jsx)("p",{className:"level-label",children:"Level 5"}),Object(h.jsx)(p.a,{min:0,defaultValue:0,value:Me[5],onChange:mc(5)})]}),Object(h.jsxs)("div",{className:"level-section",children:[Object(h.jsx)("p",{className:"level-label",children:"Level 6"}),Object(h.jsx)(p.a,{min:0,defaultValue:0,value:Me[6],onChange:mc(6)})]})]})]})]})}),Object(h.jsxs)(v.a,{title:"Research Confirmation",open:dt,onOk:function(){var e=Object(A.a)(ge);e.push({type:"Research",unit:[]}),Ae(e),bt(!0),jt(!1)},onCancel:function(){jt(!1)},children:[Object(h.jsxs)("p",{children:["Are you sure you want to upgrade your tech level from ",_," to ",_+1,"?"]}),Object(h.jsxs)("p",{children:["It will cost ",H[_-1]," tech resource"]})]}),Object(h.jsx)(v.a,{title:"Error",open:yt,onOk:function(){bt(!0),pt(!1)},onCancel:function(){bt(!0),pt(!1)},children:Object(h.jsx)("p",{children:"You can't do research because your tech level is 6 already"})}),Object(h.jsx)(v.a,{title:"Upgrade Order",open:Nt,onOk:function(){for(var e=Object(A.a)(ge),t={type:"Upgrade",src:Gt,unit:[]},c=0,a=0;a<Ut.length;a++)if(0!==Ut[a].num){c++;var s={srcLevel:Ut[a].srcLevel,desLevel:Ut[a].desLevel,num:Ut[a].num};t.unit.push(s)}c>0&&(e.push(t),Ae(e)),Jt([{srcLevel:1,desLevel:1,num:0}]),gt(!1),console.log(e)},onCancel:function(){Jt([{srcLevel:1,desLevel:1,num:0}]),gt(!1)},children:Object(h.jsxs)("div",{className:"order-container",children:[Object(h.jsxs)("div",{className:"option-section",children:[Object(h.jsx)("p",{children:"Territory to Upgrade"}),Object(h.jsx)(C.a,{value:Gt,style:{width:150},onChange:function(e){wt(e)},options:Qe})]}),Object(h.jsxs)("div",{className:"option-section",children:[Object(h.jsxs)("div",{className:"option-titles",children:[Object(h.jsx)("p",{children:"src level"}),Object(h.jsx)("p",{children:"dest level"}),Object(h.jsx)("p",{children:"num"})]}),Ut.map((function(e,t){return Object(h.jsxs)("div",{className:"level-section margin-bottom",children:[Object(h.jsx)(C.a,{defaultValue:F[0].value,value:e.srcLevel,style:{width:90},onChange:Oc(t),options:F}),Object(h.jsx)(C.a,{defaultValue:F[0].value,value:e.desLevel,style:{width:90},onChange:yc(t),options:F}),Object(h.jsx)(p.a,{min:0,defaultValue:0,value:e.num,onChange:pc(t)})]},t)})),Object(h.jsx)("div",{className:"leve-section",children:Object(h.jsxs)("p",{children:["current Sum for Valid Upgrade: ",sc]})}),Object(h.jsx)("div",{className:"leve-section",children:Object(h.jsx)(j.a,{className:"control-button",type:"primary",onClick:function(){var e=[].concat(Object(A.a)(Ut),[{srcLevel:0,desLevel:0,num:0}]);Jt(e)},children:"+"})})]})]})}),Object(h.jsx)(v.a,{title:"Please Wait for Next Round",open:Ft,footer:null,closable:!1,children:Object(h.jsxs)("div",{className:"tips-display-style",children:[Object(h.jsx)("p",{children:"Successfully submit your orders."}),Object(h.jsx)("p",{children:"Please wait for other players to submit"}),Object(h.jsx)(f.a,{})]})})]})]}),void 0!==Zt&&Object(h.jsx)(v.a,{title:"Game Over",open:Yt,footer:null,closable:!1,children:Object(h.jsxs)("div",{className:"tips-display-style",children:[Object(h.jsx)("p",{children:"Game is over"}),Object(h.jsxs)("p",{children:["Winner is: ",Zt]}),Object(h.jsx)(j.a,{className:"control-button",type:"primary",onClick:bc,children:"Go Back"})]})})]})})]})},Y=[{x1:74,y1:120,x2:145,y2:64,distance:1},{x1:74,y1:120,x2:110,y2:300,distance:3},{x1:74,y1:120,x2:160,y2:200,distance:4},{x1:160,y1:64,x2:430,y2:44,distance:8},{x1:160,y1:64,x2:260,y2:170,distance:3},{x1:430,y1:44,x2:580,y2:68,distance:4},{x1:430,y1:44,x2:380,y2:150,distance:4},{x1:580,y1:68,x2:500,y2:260,distance:6},{x1:380,y1:150,x2:500,y2:260,distance:3},{x1:380,y1:150,x2:260,y2:170,distance:2},{x1:250,y1:170,x2:160,y2:200,distance:3},{x1:160,y1:200,x2:110,y2:320,distance:3},{x1:110,y1:300,x2:74,y2:415,distance:2},{x1:74,y1:400,x2:54,y2:550,distance:7},{x1:40,y1:540,x2:150,y2:495,distance:1},{x1:150,y1:495,x2:260,y2:505,distance:6},{x1:150,y1:495,x2:320,y2:608,distance:6},{x1:320,y1:608,x2:590,y2:600,distance:3},{x1:260,y1:505,x2:320,y2:608,distance:3},{x1:320,y1:608,x2:465,y2:540,distance:7},{x1:465,y1:560,x2:550,y2:490,distance:1},{x1:550,y1:490,x2:440,y2:440,distance:2},{x1:260,y1:170,x2:320,y2:260,distance:3},{x1:160,y1:200,x2:220,y2:300,distance:2},{x1:220,y1:300,x2:74,y2:400,distance:5},{x1:210,y1:300,x2:320,y2:260,distance:3},{x1:320,y1:260,x2:445,y2:350,distance:5},{x1:500,y1:260,x2:445,y2:370,distance:1},{x1:445,y1:350,x2:550,y2:380,distance:2},{x1:550,y1:380,x2:440,y2:440,distance:3},{x1:440,y1:440,x2:300,y2:400,distance:5},{x1:300,y1:400,x2:320,y2:260,distance:4},{x1:300,y1:400,x2:150,y2:495,distance:8},{x1:550,y1:380,x2:660,y2:475,distance:6},{x1:660,y1:510,x2:465,y2:570,distance:2},{x1:660,y1:480,x2:550,y2:490,distance:1},{x1:680,y1:480,x2:590,y2:600,distance:3},{x1:430,y1:550,x2:590,y2:600,distance:4}],K=function(e){var t=Object(a.useState)(1),c=Object(m.a)(t,2),n=c[0],r=c[1],l=Object(a.useState)("Default"),x=Object(m.a)(l,2),b=x[0],O=x[1],y=Object(a.useState)(1),p=Object(m.a)(y,2),N=p[0],g=p[1],I=Object(a.useState)(1),G=Object(m.a)(I,2),w=G[0],C=G[1],S=Object(a.useState)("BLUE"),k=Object(m.a)(S,2),E=k[0],Q=k[1],D=Object(a.useState)(120),L=Object(m.a)(D,2),R=L[0],B=L[1],T=Object(a.useState)([]),J=Object(m.a)(T,2),M=J[0],P=J[1],F=Object(a.useState)(!1),H=Object(m.a)(F,2),V=H[0],W=H[1],K=Object(a.useState)(0),z=Object(m.a)(K,2),X=z[0],Z=z[1],q=Object(a.useState)(!1),$=Object(m.a)(q,2),_=$[0],ee=$[1],te=Object(a.useState)([{territoryName:"Michigan",cx:74,cy:120,r:40,color:"red",foodGene:20,techGene:34,units:[]},{territoryName:"Michigan State",cx:160,cy:64,r:40,color:"green",foodGene:15,techGene:23,units:[]},{territoryName:"Syracuse",cx:430,cy:44,r:40,color:"green",foodGene:15,techGene:23,units:[]},{territoryName:"UConn",cx:580,cy:68,r:40,color:"yellow",foodGene:15,techGene:23,units:[]},{territoryName:"Penn State",cx:380,cy:150,r:40,color:"yellow",foodGene:15,techGene:23,units:[]},{territoryName:"UPenn",cx:500,cy:260,r:40,color:"yellow",foodGene:15,techGene:23,units:[]},{territoryName:"Ohio State",cx:260,cy:170,r:40,color:"yellow",foodGene:15,techGene:23,units:[]},{territoryName:"Indiana",cx:160,cy:200,r:40,color:"yellow",foodGene:15,techGene:23,units:[]},{territoryName:"Northwestern",cx:110,cy:300,r:40,color:"yellow",foodGene:15,techGene:23,units:[]},{territoryName:"Illinois",cx:74,cy:400,r:40,color:"yellow",foodGene:15,techGene:23,units:[]},{territoryName:"Kentucky",cx:220,cy:300,r:40,color:"yellow",foodGene:15,techGene:23,units:[]},{territoryName:"WVU",cx:320,cy:260,r:40,color:"yellow",foodGene:15,techGene:23,units:[]},{territoryName:"Villanova",cx:445,cy:350,r:40,color:"yellow",foodGene:15,techGene:23,units:[]},{territoryName:"Maryland",cx:550,cy:380,r:40,color:"yellow",foodGene:15,techGene:23,units:[]},{territoryName:"Alabama",cx:54,cy:540,r:40,color:"yellow",foodGene:15,techGene:23,units:[]},{territoryName:"Auburn",cx:150,cy:495,r:40,color:"yellow",foodGene:15,techGene:23,units:[]},{territoryName:"Tennessee",cx:300,cy:400,r:40,color:"yellow",foodGene:15,techGene:23,units:[]},{territoryName:"Florida",cx:260,cy:505,r:40,color:"yellow",foodGene:15,techGene:23,units:[]},{territoryName:"Georgia",cx:320,cy:608,r:40,color:"yellow",foodGene:15,techGene:23,units:[]},{territoryName:"UVA",cx:440,cy:440,r:40,color:"yellow",foodGene:15,techGene:23,units:[]},{territoryName:"Duke",cx:550,cy:490,r:40,color:"yellow",foodGene:15,techGene:23,units:[]},{territoryName:"NC State",cx:660,cy:475,r:40,color:"yellow",foodGene:15,techGene:23,units:[]},{territoryName:"UNC",cx:465,cy:540,r:40,color:"yellow",foodGene:15,techGene:23,units:[]},{territoryName:"South Carolina",cx:590,cy:600,r:40,color:"yellow",foodGene:15,techGene:23,units:[]}]),ce=Object(m.a)(te,2),ae=ce[0],se=ce[1],ne=s.a.useRef(ae),re=Object(o.k)(),le=Object(o.m)();s.a.useEffect((function(){console.log("component did mount"),r(re.state.usrId),O(re.state.userName),g(re.state.playerId),console.log("gameId",re.state.gameId),C(re.state.gameId);var e=re.state.color;Q(e);var t="http://localhost:8080/gameMap/"+re.state.playerId;u.a.get(t).then((function(t){console.log(t.data);for(var c=t.data.territories,a=Object(A.a)(ne.current),s=0;s<ne.current.length;s++)console.log("original:",a[s].territoryName),console.log("response:",c[a[s].territoryName]),a[s].color=c[a[s].territoryName].color.toLowerCase();se(a),B(t.data.maxUnits);for(var n=e.toLowerCase(),r=[],l=0;l<a.length;l++)a[l].color===n&&r.push(a[l].territoryName);P(r)})).catch((function(e){console.log("error",e)}))}),[re.state]);var oe=function(e){W(!1)},ie=function(e){console.log("Success:",e);for(var t=0,c=[],a=0;a<M.length;a++){var s=M[a];t+=Number(e[s]);var r={terrName:s,numUnits:Number(e[s])};c.push(r),console.log(r)}if(t!==R)return W(!0),void Z(t);console.log("----");var l={playerId:N,placements:c};console.log(l),u.a.post("http://localhost:8080/placement",l).then((function(e){ee(!0);var t="http://localhost:8080/isPlacementDone/"+w,c=setInterval((function(){u.a.get(t).then((function(e){console.log(e),e.data&&(ee(!1),clearInterval(c),le("/game",{state:{usrId:n,userName:b,playerId:N,color:E}}))})).catch((function(){alert("error")}))}),5e3)})).catch((function(){alert("error")}))};return Object(h.jsx)("div",{className:"outside-container",children:Object(h.jsx)("div",{className:"outside-header",children:Object(h.jsxs)("div",{className:"game-container",children:[Object(h.jsxs)("div",{className:"game-left",children:[Object(h.jsx)("div",{className:"game-title-section border-purple placement-title",children:Object(h.jsx)("h1",{className:"game-title-h1",children:"RISC GAME"})}),Object(h.jsx)("div",{className:"game-board-section",children:Object(h.jsx)(U,{territories:ae,lines:Y})})]}),Object(h.jsxs)("div",{className:"game-right",children:[Object(h.jsx)("div",{className:"placement-player-info",children:Object(h.jsxs)("h4",{children:["You are Player ",E]})}),Object(h.jsx)("div",{className:"placement-tips",children:Object(h.jsx)("h5",{children:"Place You Units"})}),Object(h.jsx)("div",{className:"units-left-info",children:Object(h.jsxs)("h4",{children:["Units You have in total: ",R]})}),V&&Object(h.jsxs)(v.a,{title:"Error",open:V,onOk:oe,onCancel:oe,children:[Object(h.jsxs)("p",{children:["Your current assignment sum is ",X]}),Object(h.jsxs)("p",{children:["You should assign exactly ",R," units"]}),Object(h.jsx)("p",{children:"Try to input again!"})]}),Object(h.jsxs)("div",{className:"placement-enter-section",children:[Object(h.jsxs)(i.a,{name:"basic",labelCol:{span:8},wrapperCol:{span:40},style:{maxWidth:600},initialValues:{remember:!0},onFinish:ie,onFinishFailed:ie,autoComplete:"off",children:[M.map((function(e,t){return Object(h.jsx)("div",{children:Object(h.jsx)(i.a.Item,{label:e,name:e,rules:[{required:!0,pattern:new RegExp(/^(0|[1-9][0-9]*)$/,"g"),message:"Please enter non-negative integer"}],children:Object(h.jsx)(d.a,{className:e})})},t)})),Object(h.jsx)(i.a.Item,{wrapperCol:{offset:4,span:16},children:Object(h.jsx)(j.a,{type:"primary",htmlType:"submit",children:"Done"})})]}),Object(h.jsx)(v.a,{title:"Please Wait for Other players to finish placement",open:_,footer:null,closable:!1,children:Object(h.jsxs)("div",{className:"tips-display-style",children:[Object(h.jsx)("p",{children:"Successfully submit your placement."}),Object(h.jsx)("p",{children:"Please wait for other players to finish placement"}),Object(h.jsx)(f.a,{})]})})]})]})]})})})};var z=function(){return Object(h.jsx)("div",{children:Object(h.jsx)(l.a,{children:Object(h.jsxs)(o.c,{children:[Object(h.jsx)(o.a,{path:"/",element:Object(h.jsx)(x,{})}),Object(h.jsx)(o.a,{path:"/register",element:Object(h.jsx)(b,{})}),Object(h.jsx)(o.a,{path:"/main",element:Object(h.jsx)(g,{})}),Object(h.jsx)(o.a,{path:"/game",element:Object(h.jsx)(W,{})}),Object(h.jsx)(o.a,{path:"/placement",element:Object(h.jsx)(K,{})})]})})})};r.a.createRoot(document.getElementById("root")).render(Object(h.jsx)(z,{}))}},[[225,1,2]]]);
//# sourceMappingURL=main.5931ff8f.chunk.js.map